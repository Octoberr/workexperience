docker 端口映射   宿主机：容器
http://localhost:5000/?date=2017-06-15

docker run --restart always -p 8014:8014 --name='schedule_20170927_prod' schedule_schedule


python F:\github\Chinese-Character-Recognition\chinese_character_recognition_bn.py --mode=train --max_steps=16002 --eval_steps=100 --save_steps=500

上传文件：rz
列出储存： docker volume ls
查看详细信息： docker volume inspect
启动容器: docker-compose up -d 不要日志
			 down 关闭 
下载文件:sz
进入docker容器：docker exec -it hopeful_hugle /bin/bash


openface  http://blog.topspeedsnail.com/archives/10933
提取和aligned
./util/align-dlib.py ./dataimage/train/ align outerEyesAndNose ./dataimage/aligned-images/ --size 96
提取特征
./batch-represent/main.lua -outDir ./dataimage/generated-embeddings/ -data ./dataimage/aligned-images/
开始训练
./demos/classifier.py train ./dataimage/generated-embeddings/
识别
./demos/classifier.py infer ./dataimage/generated-embeddings/classifier.pkl ./dataimage/test/test5.jpg

docker copy 
容器到本机：
docker cp ccaa9c6f5372:/root/openface/demos/web ./web

主机到容器：挂载mv
docker run -v  本机地址：容器地址
docker cp 要拷贝的文件路径 容器名：要拷贝到容器里面对应的路径

openface demo web:
/root/openface/demos/web/start-servers.sh

openface run:
docker run -p 9000:9000 -p 8000:8000 -v F:\github\swmopenface\demos:/root/openface/demos -t -i bamos/openface /bin/bash

docker国内镜像：https://docker.mirrors.ustc.edu.cn
systemctl daemon-reload
vim /etc/docker/daemon.json
{
 "registry-mirrors": ["https://docker.mirrors.ustc.edu.cn"]
}

docker进入系统
docker run -it YOUR_IMAGE /bin/sh

th neural_style.lua -style_image swmstyle/style8.jpg -content_image swmdata/data1.jpg -output_image swmgetdata/get1.png -model_file models/nin_imagenet_conv.caffemodel -proto_file models/train_val.prototxt -gpu -1 -backend clnn -num_iterations 1000 -seed 123 -content_layers relu0,relu3,relu7,relu12 -style_layers relu0,relu3,relu7,relu12 -content_weight 10 -style_weight 1000 -image_size 512 -optimizer adam
清华镜像：pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple 
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
pip安装不要缓存:--no-cache-dir
启动ubuantu虚拟环境：source ~/tensorflow/bin/activate 

docker tag swm/websocket:20171106 116.62.70.120:5000/swm/websocket:20171106

查看linux版本信息：lsb_release -a
cat /proc/version

conda install opencv3
conda install numpy
conda install anaconda-client
conda install --channel https://conda.anaconda.org/menpo opencv3

docker修改镜像名字
-d 服务器挂起在后台
docker tag imageid name:tag

scrapy crawl TweetScraper -a query="Trump"

ssr启动：/etc/init.d/shadowsocks-r start | stop | restart | status
docker对镜像的操作
.保存save - 加载 load
wget java --no-cookies --header "Cookie: oraclelicense=accept-securebackup-cookie"

docker run --restart always --name='telegram_swm_0724' -v /home/telegram/:/home/telegram/ -d telegram:20180724
安装lsb_realease : yum install -y redhat-lsb

修改root密码： passwd root

build 包：python setup.py bdist_wheel
上传或者更新到pypitest
pypi test:twine upload --repository-url https://test.pypi.org/legacy/ dist/*
上传或者更新pypi
twine upload dist/*

安装：pip install twine
pypi的账号gmail,username:october

github主页
https://github.com/Octoberr?tab=repositories
python社区pypi主页
https://pypi.org/project/swmtools/
docker社区dockerhub主页
https://hub.docker.com/u/shiyue
Just My Socks
账号：gmail judy

唉
Today`s wind is a little uproarious. 

容器内ssh启动
/etc/init.d/ssh restart

修改iptables 
/etc/sysconfig/iptables  
-A INPUT -p udp -m state --state NEW -m udp --dport 4556 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 4556 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 8009 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 8010 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 10022 -j ACCEPT
curl http://your-server-ip:5000/v2/_catalog

拉取server上的镜像
修改文件 /etc/docker/daemon.json
  "insecure-registries": [
    "115.144.178.45:5000"
  ]
 
 
linux 计数 find _serverinput -type f | wc -l

不同linux之间拷贝文件
文件：scp local_file remote_username@remote_ip:remote_folder
文件夹：scp -r local_folder remote_username@remote_ip:remote_folder 
从远处到本地：scp root@192.168.120.204:/opt/soft/nginx-0.5.38.tar.gz /opt/soft/

网络测试： curl -s https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python -


python打包出现错误，将python3.7降为python3.6.8
然后重新安装pyinstaller
pip install https://github.com/pyinstaller/pyinstaller/archive/develop.zip

mysql查询最后一行
select   *   from   table   order   by   id   desc   limit   1


zmap扫描命令示例:
sudo zmap 192.168.90.0/24 -p 146 --max-sendto-failures=1 -B 10M -w /home/idownclient/resource/wi -b /home/idownclient/resource/bi -o /home/idownclient/_clienttmpdir/zmap/532e4db2-bd02-11ea-9910-0242ac120002

nmap扫描命令示例：
nmap 192.168.90.253 -p 20,21,22,23,25,53,80,110,123,143,443,993,995,1433,3389,6379,27017 -Pn -n -T4 -sV -O --open --min-rate 100 --min-hostgroup 256 --max-retries 2 --max-scan-delay 1 -oX /home/idownclient/_clienttmpdir/nmap/e19011aa-be6d-11ea-addb-d8cb8ad590d8

删除为None的镜像 docker images|grep none|awk '{print $3}'|xargs docker rmi
删除容器docker rm $(docker ps -a -q) 或者 docker rm $(docker ps -aq) 
















